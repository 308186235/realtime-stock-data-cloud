/**
 * 威廉指标（Williams %R）使用指南
 * 本文件提供威廉指标的教育内容和实战案例
 */

/**
 * 获取威廉指标的完整指南
 * @returns {Object} 威廉指标指南内容
 */
export function getWilliamsRGuide() {
  return {
    title: "威廉指标（Williams %R）完全指南",
    introduction: {
      text: "威廉指标（Williams %R）是由Larry Williams在1973年提出的技术分析工具，用于测量当前收盘价相对于一段时间内最高价与最低价范围的位置。该指标在0至-100之间波动，通常-20以上区域被视为超买区域，而-80以下区域被视为超卖区域。",
      creator: "拉里·威廉姆斯（Larry Williams）是一位著名的交易员、作家和技术分析师，他在1987年世界杯期货交易锦标赛中创下了将10万美元变为110万美元的纪录，显示了其交易技巧和对技术指标的理解。"
    },
    howItWorks: {
      calculation: "威廉指标的计算公式为：%R = ((最高价 - 收盘价) / (最高价 - 最低价)) × -100，其中最高价和最低价通常是过去N个周期（默认为14天）的最高价和最低价。",
      interpretation: "当威廉指标处于-80以下时，表明市场可能超卖，预示着可能出现上涨；当指标处于-20以上时，表明市场可能超买，预示着可能出现下跌。值得注意的是，威廉指标在超买或超卖区域停留的时间可能较长，因此最好等待指标从这些区域反转后再采取行动。"
    },
    comparisonWithOtherIndicators: {
      rsi: "与相对强弱指标（RSI）相比，威廉指标反应更快，更敏感，但也可能产生更多假信号。RSI在0-100范围内波动，而威廉指标在0至-100之间波动。",
      stochastic: "威廉指标与随机指标（Stochastic）非常相似，事实上，如果将威廉指标反转并移动坐标系，它几乎与随机指标的%K线相同。主要区别在于随机指标包括一个额外的平滑化过程。"
    },
    tradingStrategies: [
      {
        name: "反转策略",
        description: "当威廉指标从超卖区域（-80以下）回升穿越-80线时买入，当指标从超买区域（-20以上）回落穿越-20线时卖出。",
        bestSuitedFor: "适合震荡市场，在强趋势市场中可能产生误导信号。",
        riskManagement: "设置止损，避免在强趋势市场中逆势操作。可以将威廉指标与移动平均线等趋势指标结合使用，以避免在强趋势中的误导信号。"
      },
      {
        name: "背离策略",
        description: "当价格创新高但威廉指标未能创新高时，可能预示顶部形成；当价格创新低但威廉指标未能创新低时，可能预示底部形成。",
        bestSuitedFor: "适合捕捉趋势转折点。",
        riskManagement: "背离信号需要其他指标或形态确认，如价格形态、成交量等。"
      },
      {
        name: "多周期分析策略",
        description: "同时分析不同时间框架（如日线、周线、月线）的威廉指标，当多个时间框架的信号一致时，信号更为可靠。",
        bestSuitedFor: "适合中长期投资者，可以减少假信号。",
        riskManagement: "需要更多的分析时间，但可以提高准确率。"
      },
      {
        name: "威廉指标与RSI结合策略",
        description: "当威廉指标和RSI同时给出超买或超卖信号时，交易信号更为可靠。",
        bestSuitedFor: "适合更保守的交易者，希望减少假信号。",
        riskManagement: "等待两个指标同时确认可以减少交易次数，但也可能错过一些机会。"
      },
      {
        name: "尾盘动量捕捉策略",
        description: "关注交易日最后30分钟威廉指标的变化。如果指标从超卖区域迅速上升，可能预示第二天开盘上涨；如果指标从超买区域迅速下降，可能预示第二天开盘下跌。",
        bestSuitedFor: "适合日内交易者或T+0/T+1交易策略。",
        riskManagement: "这种短期信号可能受到隔夜新闻事件的影响，应谨慎使用。"
      }
    ],
    realWorldExamples: [
      {
        title: "案例1：A股市场反弹捕捉",
        description: "2022年4月，多只A股股票的威廉指标在大幅下跌后进入-95以下的极度超卖区域。以某科技股为例，当威廉指标从-98回升至-80并上穿时，随后两周该股价格上涨了约18%。这是威廉指标在极度超卖区域发出的买入信号。",
        lessons: "在极度超卖后的反弹通常更为剧烈，尤其是当成交量配合时。"
      },
      {
        title: "案例2：外汇市场的顶部信号",
        description: "2020年12月，欧元/美元在1.22附近见顶时，威廉指标已连续数周处于超买区域（-20以上）。当威廉指标开始回落并下穿-20线时，欧元/美元随后在一个月内下跌了约400点。",
        lessons: "长期处于超买区域并开始回落是一个重要的警示信号，尤其是在达到重要阻力位附近。"
      },
      {
        title: "案例3：美股市场的背离信号",
        description: "2021年7月，某美国科技股在创历史新高时，其威廉指标未能同步创新高，形成了顶部背离。随后三个月内，该股下跌超过15%。",
        lessons: "威廉指标与价格的背离是重要的转折信号，特别是在历史高位或低位附近。"
      },
      {
        title: "案例4：商品期货市场的多周期确认",
        description: "2023年初，黄金期货的日线、周线和月线威廉指标同时从超卖区域回升，提供了强有力的买入信号。随后6个月，黄金价格上涨了约10%。",
        lessons: "多周期威廉指标的一致性信号往往更可靠，可以用于中长期投资决策。"
      }
    ],
    commonMistakes: [
      "仅依赖威廉指标而忽视整体市场趋势",
      "在强势上升趋势中过早卖出，或在强势下降趋势中过早买入",
      "未考虑市场环境变化，盲目应用固定的超买超卖阈值",
      "忽视与其他指标的协同分析，如RSI、移动平均线等",
      "未设置合理的止损，导致小损失变成大亏损"
    ],
    bestPractices: [
      "将威廉指标与趋势分析工具结合使用，避免逆势操作",
      "在不同时间框架上分析威廉指标，寻找多周期确认",
      "注意威廉指标与价格走势的背离现象",
      "结合成交量分析，提高信号可靠性",
      "针对不同市场和不同品种，可能需要调整威廉指标的超买超卖阈值",
      "在极端市场条件下，传统的超买超卖阈值可能需要调整"
    ],
    advancedConcepts: {
      adaptiveThresholds: "不同市场环境可能需要不同的超买超卖阈值。在强趋势市场中，传统的-20和-80阈值可能过于敏感，可以考虑使用-10和-90作为替代。",
      wilderSmoothing: "可以对威廉指标应用维尔德平滑（Wilder's Smoothing）技术，减少噪音，提高信号质量。",
      fractalDimension: "将威廉指标与分形维度（Fractal Dimension）结合，可以更好地识别市场的混沌程度和潜在转折点。"
    },
    toolsAndResources: {
      software: ["TradingView", "MT4/MT5", "富途牛牛", "同花顺"],
      books: ["《Larry Williams的短线交易秘诀》", "《专业投机原理》", "《技术分析超越图表》"],
      websites: ["Investopedia", "TradingView社区", "SeekingAlpha"]
    },
    conclusion: "威廉指标是一种强大而灵活的技术分析工具，特别适合识别市场的潜在反转点。然而，像所有技术指标一样，它并非万能的，最好作为更广泛交易策略的一部分使用，结合其他技术和基本面分析工具。通过深入理解威廉指标的特性和局限性，交易者可以更有效地将其整合到自己的交易系统中，提高获利机会。"
  };
}

/**
 * 获取威廉指标的常见问题解答
 * @returns {Array} 问答列表
 */
export function getWilliamsRFAQs() {
  return [
    {
      question: "威廉指标和随机指标（Stochastic）有什么区别？",
      answer: "威廉指标和随机指标的%K线在计算上非常相似，但存在几个关键区别：1）威廉指标的范围是0至-100，而随机指标的范围是0至100；2）威廉指标没有像随机指标那样的%D平滑线；3）威廉指标的超买超卖阈值分别是-20和-80，而随机指标的超买超卖阈值通常是80和20。从实用角度看，威廉指标通常反应更快，而随机指标由于有平滑处理，信号可能更为稳定。"
    },
    {
      question: "威廉指标适合什么样的市场环境？",
      answer: "威廉指标在震荡市场中表现最佳，因为它能够有效捕捉价格在一定范围内的波动。在强趋势市场中，威廉指标可能会长时间保持在超买或超卖区域，从而产生错误的反转信号。因此，在使用威廉指标时，最好先确定市场是处于趋势状态还是震荡状态，并相应地调整您的策略。"
    },
    {
      question: "如何避免威廉指标的假信号？",
      answer: "减少威廉指标假信号的几种方法：1）结合趋势分析，避免在强趋势中逆势操作；2）使用多周期分析，寻找多个时间框架的确认；3）与其他技术指标（如RSI、MACD）结合使用；4）关注威廉指标与价格的背离；5）等待指标从超买或超卖区域完全反转后再行动，而不是在刚刚触及阈值时就交易；6）考虑市场环境调整超买超卖阈值。"
    },
    {
      question: "威廉指标的最佳参数设置是什么？",
      answer: "威廉指标的传统设置是使用14个周期作为计算期间，-20作为超买阈值，-80作为超卖阈值。然而，最佳参数取决于您交易的市场、时间框架和交易风格。短期交易者可能更喜欢较短的周期（如7或10），而长期投资者可能更喜欢较长的周期（如21或30）。建议通过回测不同参数在特定市场上的表现来确定最适合您的设置。"
    },
    {
      question: "威廉指标在中国A股市场的应用有何特点？",
      answer: "在中国A股市场，威廉指标特别适合以下几种情况：1）在市场大幅调整后识别反弹机会，特别是当指标降至-95以下极度超卖区域时；2）在尾盘交易中（14:30-15:00），威廉指标的快速变化可能预示第二天的开盘走势，有助于T+0/T+1交易决策；3）结合成交量分析，当威廉指标从超卖区回升并伴随成交量增加时，往往是较强的买入信号；4）在中国股市的政策驱动环境中，建议将威廉指标与基本面分析结合，避免在重大政策变化时仅依赖技术指标。"
    },
    {
      question: "威廉指标能否用于长期投资？",
      answer: "虽然威廉指标主要用于短期至中期交易，但也可以作为长期投资决策的辅助工具。长期投资者可以使用较长周期（如月线或季线）的威廉指标来识别潜在的重大市场转折点。当月线或季线威廉指标从极度超卖区域回升时，可能预示着长期上升趋势的开始，是增加仓位的良机。同样，当这些长周期指标从极度超买区域回落时，可能预示着需要减少风险敞口。然而，长期投资决策应主要基于基本面分析，威廉指标只应作为时机选择的辅助工具。"
    }
  ];
}

/**
 * 获取威廉指标的案例研究
 * @returns {Object} 特定市场的案例研究
 */
export function getWilliamsRCaseStudy() {
  return {
    title: "威廉指标在中国A股市场的实战案例研究",
    marketContext: "中国A股市场具有波动性大、散户占比高、政策敏感等特点，威廉指标作为反转型指标，在这种环境中展现出了一定的实用价值。",
    caseStudies: [
      {
        title: "2022年4月上证指数反弹",
        scenario: "2022年4月27日，上证指数跌至2863点，创下近期低点。当日威廉指标跌至-96，处于极度超卖状态。随后几个交易日，威廉指标开始回升并于5月5日突破-80水平。",
        action: "基于威廉指标从极度超卖区域回升的信号，投资者可能在5月初增持蓝筹股。",
        result: "从5月初到5月中旬，上证指数上涨超过7%，验证了威廉指标在极度超卖后的反弹信号。",
        chart: "上证指数日线图（2022年4-5月）",
        lessons: "在市场恐慌性下跌后，威廉指标进入极度超卖区域（-95以下）并开始回升，往往是较好的买入时机。"
      },
      {
        title: "某科技股的尾盘威廉指标策略",
        scenario: "2023年6月的一个交易日，某科技股在14:30前一直呈下跌趋势，5分钟图上的威廉指标处于-85的超卖区域。在14:40-14:55期间，威廉指标迅速回升至-50水平。",
        action: "基于尾盘威廉指标快速回升的信号，短线交易者可能在接近收盘前买入该股。",
        result: "第二个交易日开盘，该股高开2.3%，上午继续上涨，最高涨幅达4.5%。",
        chart: "某科技股5分钟K线图（2023年6月尾盘交易）",
        lessons: "在A股市场的尾盘交易中，威廉指标的快速变化可以作为次日开盘走势的预测工具，特别适合T+1交易策略。"
      },
      {
        title: "2023年大盘蓝筹股的威廉指标背离",
        scenario: "2023年某季度，多只大盘蓝筹股在不断创新高的过程中，周线威廉指标却未能同步创新高，形成顶部背离。",
        action: "识别到这种背离后，投资者可能减持这些蓝筹股或进行适当的风险对冲。",
        result: "在随后的2-3个月里，这些蓝筹股普遍出现了10-15%的回调。",
        chart: "某蓝筹股周线图（2023年）",
        lessons: "威廉指标与价格走势的背离是重要的警示信号，尤其是在周线或月线等较长时间周期上。这种背离通常预示着当前趋势可能即将发生变化。"
      }
    ],
    strategicRecommendations: {
      shortTerm: [
        "关注尾盘（14:30-15:00）威廉指标的变化，可作为第二天开盘走势的参考",
        "在大幅下跌后，威廉指标低于-90是较好的短线买入时机",
        "结合成交量分析，当威廉指标回升并伴随成交量增加时，信号更为可靠"
      ],
      mediumTerm: [
        "关注日线和周线威廉指标的一致性，当两者同时从超卖区回升时，中期看涨信号更强",
        "在上升趋势中，日线威廉指标回调至-50至-80区间后回升，往往是较好的加仓时机"
      ],
      longTerm: [
        "月线威廉指标从超卖区回升，可能预示新一轮牛市周期的开始",
        "关注月线威廉指标与股指的背离，可能预示重大市场顶部或底部"
      ]
    },
    sectorSpecificInsights: {
      technology: "科技股波动性更大，威廉指标的超买超卖阈值可能需要调整为-15和-85",
      banking: "银行股等低波动板块，威廉指标低于-70可能已经是较好的买入点",
      consumer: "消费股威廉指标与市场走势的相关性较高，适合用作反转信号",
      healthcare: "医药股通常受政策影响较大，建议将威廉指标与政策分析结合使用"
    },
    conclusion: "威廉指标在中国A股市场展现出较好的应用价值，特别是在识别短期市场反转和制定T+0/T+1交易策略方面。然而，考虑到A股市场的特殊性，投资者在使用威廉指标时应当结合市场环境、政策动向和基本面分析，避免机械化操作。通过多周期分析和与其他指标的协同使用，威廉指标可以成为A股投资者的有力工具。"
  };
}

export default {
  getWilliamsRGuide,
  getWilliamsRFAQs,
  getWilliamsRCaseStudy
}; 