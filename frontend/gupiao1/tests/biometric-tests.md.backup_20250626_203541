# 生物识别功能测试计划

## 测试环境

- iOS 设备 (支持 Face ID)
- Android 设备 (支持指纹识别)
- 不支持生物识别的设备

## 功能测试

### 1. 设备兼容性检测

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| iOS Face ID 检测 | 在支持 Face ID 的 iOS 设备上运行应用 | 检测到 Face ID 支持，显示面容识别选项 |
| Android 指纹检测 | 在支持指纹识别的 Android 设备上运行应用 | 检测到指纹支持，显示指纹识别选项 |
| 设备不支持生物识别 | 在不支持生物识别的设备上运行应用 | 相关生物识别选项被禁用，仅显示 PIN 码选项 |

### 2. 安全设置页面

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| 启用指纹识别 | 1. 打开安全设置<br>2. 开启指纹识别开关 | 1. 显示指纹验证提示<br>2. 验证成功后开关状态保持为开启 |
| 启用面容识别 | 1. 打开安全设置<br>2. 开启面容识别开关 | 1. 显示面容验证提示<br>2. 验证成功后开关状态保持为开启 |
| 启用 PIN 码 | 1. 打开安全设置<br>2. 开启密码解锁<br>3. 输入 6 位数字 PIN 码<br>4. 确认 PIN 码 | 1. 显示 PIN 码设置弹窗<br>2. 成功设置 PIN 码<br>3. 显示"密码设置成功"提示 |
| 错误 PIN 码确认 | 1. 打开安全设置<br>2. 开启密码解锁<br>3. 输入 PIN 码<br>4. 输入不匹配的确认 PIN 码 | 显示"两次输入的密码不一致"错误提示 |

### 3. 应用解锁

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| 指纹解锁 | 1. 启用指纹识别<br>2. 退出并重新打开应用<br>3. 在锁屏界面使用指纹 | 成功验证后自动解锁应用并进入主界面 |
| 面容解锁 | 1. 启用面容识别<br>2. 退出并重新打开应用<br>3. 在锁屏界面使用面容 | 成功验证后自动解锁应用并进入主界面 |
| PIN 码解锁 | 1. 启用 PIN 码<br>2. 退出并重新打开应用<br>3. 在锁屏界面输入正确 PIN 码 | 成功验证后自动解锁应用并进入主界面 |
| 错误 PIN 码 | 1. 启用 PIN 码<br>2. 退出并重新打开应用<br>3. 在锁屏界面输入错误 PIN 码 | 显示"密码错误，请重试"提示 |
| 指纹验证失败 | 1. 启用指纹识别<br>2. 退出并重新打开应用<br>3. 使用未注册的指纹 | 显示指纹验证失败提示 |
| 面容验证失败 | 1. 启用面容识别<br>2. 退出并重新打开应用<br>3. 面容无法识别 | 显示面容验证失败提示 |

### 4. 交易确认

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| 使用指纹确认交易 | 1. 启用交易确认使用生物识别<br>2. 发起交易<br>3. 在确认弹窗中使用指纹 | 成功验证后自动执行交易操作 |
| 使用面容确认交易 | 1. 启用交易确认使用生物识别<br>2. 发起交易<br>3. 在确认弹窗中使用面容 | 成功验证后自动执行交易操作 |
| 使用 PIN 码确认交易 | 1. 启用交易密码验证<br>2. 发起交易<br>3. 在确认弹窗中输入 PIN 码 | 成功验证后自动执行交易操作 |
| 指纹验证后取消交易 | 1. 启用交易确认使用生物识别<br>2. 发起交易<br>3. 使用指纹验证<br>4. 点击取消按钮 | 指纹验证通过但交易被取消 |
| 验证失败后使用 PIN 码 | 1. 启用交易确认使用生物识别和交易密码<br>2. 发起交易<br>3. 生物识别失败<br>4. 使用 PIN 码验证 | 允许使用 PIN 码作为备选方式，交易成功执行 |

## 安全测试

### 1. 锁定机制

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| 应用进入后台锁定 | 1. 启用生物识别或 PIN 码<br>2. 使应用进入后台<br>3. 重新打开应用 | 应用显示锁屏界面，要求身份验证 |
| 长时间不活动锁定 | 1. 启用生物识别或 PIN 码<br>2. 打开应用并保持 5 分钟不活动<br>3. 尝试操作应用 | 应用自动锁定，显示锁屏界面 |

### 2. 数据安全

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| PIN 码存储安全 | 检查 PIN 码存储方式 | PIN 码不应明文存储，应使用安全加密方式 |
| 生物识别数据 | 检查生物识别数据存储 | 应用不应自行存储生物识别数据，应仅调用系统 API |

## 兼容性测试

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| iOS 版本兼容性 | 在多个 iOS 版本上测试 | 生物识别功能在所有支持的 iOS 版本上正常工作 |
| Android 版本兼容性 | 在多个 Android 版本上测试 | 生物识别功能在所有支持的 Android 版本上正常工作 |
| 不同设备型号 | 在多种型号的设备上测试 | 生物识别功能在不同设备上正确检测和运行 |

## 性能测试

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| 生物识别响应时间 | 测量生物识别验证的响应时间 | 响应时间应不超过 2 秒 |
| 内存使用 | 监控生物识别功能使用时的内存占用 | 不应导致明显的内存泄漏或过度使用 |

## 边缘场景测试

| 测试用例 | 步骤 | 预期结果 |
|---------|------|----------|
| 设备更换生物识别数据 | 1. 在系统中更改生物识别数据<br>2. 尝试使用应用的生物识别功能 | 应用应能正确响应系统生物识别数据的变更 |
| 网络连接中断 | 在无网络环境下测试生物识别功能 | 生物识别功能应正常工作，不依赖网络连接 |
| 多用户设备 | 在配置了多个用户的设备上测试 | 应用应正确识别当前激活用户的生物识别设置 | 