# 应用测试指南

## PIN码安全功能测试

本指南提供了测试应用PIN码安全功能的方法。PIN码功能用于应用锁定和交易确认,是应用安全的重要组成部分。

### 准备工作

1. 确保应用已正确安装
2. 如需清理测试环境,可以卸载应用或清除应用数据

### 测试文件

- `pin-code-test.md` - 详细的PIN码功能测试计划和测试用例
- `pin-code-test-script.js` - 自动化测试脚本,可在开发环境中使用
- `biometric-tests.md` - 生物识别功能测试计划

### 手动测试流程

#### 基本功能测试

1. **设置PIN码**
   - 打开应用,进入"设置" -> "安全设置"
   - 点击"设置密码"
   - 输入并确认6位数字PIN码
   - 确认设置成功的提示信息

2. **验证PIN码解锁**
   - 确保PIN码解锁已启用
   - 退出并重新打开应用
   - 应显示锁屏界面
   - 输入正确PIN码,确认能解锁进入应用

3. **修改PIN码**
   - 进入"安全设置"
   - 点击"修改密码"
   - 输入旧PIN码进行验证
   - 设置新的PIN码并确认
   - 退出应用并重新打开
   - 使用新PIN码验证能否解锁

4. **交易确认**
   - 进入交易页面
   - 发起买入或卖出操作
   - 确认出现PIN码验证弹窗
   - 输入正确PIN码后交易应成功执行

#### 安全测试

1. **输入错误PIN码**
   - 锁屏界面或交易确认时输入错误PIN码
   - 确认出现错误提示
   - 再次输入正确PIN码应能成功

2. **应用后台锁定**
   - 将应用切换到后台
   - 等待一段时间后重新打开
   - 确认应用是否按照安全设置正确锁定

3. **应用退出锁定**
   - 启用PIN码解锁
   - 完全退出应用(使用设备的任务管理器或返回键退出)
   - 重新启动应用
   - 确认应用是否显示锁屏界面
   - 使用PIN码解锁验证功能是否正常

### 使用测试脚本

在开发环境中,可以使用控制台运行测试脚本:

```javascript
// 导入测试模块
const pinTest = require('./tests/pin-code-test-script.js');

// 运行所有测试
pinTest.runAllTests();

// 也可以单独运行特定测试
pinTest.testSetPINCode();
pinTest.testVerifyPINCode();
pinTest.testMigration();
```

### 测试关注点

1. **功能正确性**
   - PIN码设置,验证和修改功能是否正常工作
   - 安全设置是否正确保存和应用

2. **数据安全**
   - PIN码是否加密存储
   - 敏感信息是否在日志中暴露

3. **用户体验**
   - 错误提示是否清晰明了
   - 操作流程是否顺畅
   - 设置界面是否用户友好

4. **兼容性**
   - 在不同系统版本下测试功能
   - 在不同设备上测试存储和加密功能

### 问题报告

测试中发现的问题请记录以下信息:

1. 设备信息(型号,系统版本)
2. 应用版本号
3. 问题详细描述(包括重现步骤)
4. 相关日志或截图

## 完整应用测试

要测试整个应用,请参考以下测试流程:

1. 应用启动和初始化
2. 用户登录和认证
3. 安全设置和PIN码功能
4. 交易功能和PIN码验证
5. 数据展示和更新
6. 应用锁定和解锁
7. 设置保存和加载

每个模块的详细测试用例可参考对应的测试文档。 
